<!DOCTYPE html>
<html lang="es">
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT"
    crossorigin="anonymous"
  />

  <body>
    <%- include('../partials/header.ejs') %>
    <div class="container products-wrapper">
      <div class="row">
        <div class="col-12">
          <h2 class="products-title">Formulario de creación de productos</h2>
        </div>
      </div>
      <div class="col-12">
        <form action="/products" method="POST" enctype="multipart/form-data">
          <ul class="errores" id="errores"></ul>
          <div class="row product-detail">
            <div class="col-12 col-md-6">
              <label for="name" class="form-label">Nombre del producto:</label>
              <input
                type="text"
                id="name"
                name="name"
                placeholder="Ej: Zapatillas Reebook"
                class="form-input"
              />
              <% if (locals.errors && errors.name) { %>
              <div class="text-danger"><%= errors.name.msg %></div>
              <% } %>
            </div>

            <div class="col-12 col-md-6">
              <label for="price" class="form-label">Precio del producto:</label>
              <input
                type="text"
                id="price"
                name="price"
                placeholder="Ej: 5.678"
                class="form-input"
              />
              <% if (locals.errors && errors.price) { %>
              <div class="text-danger"><%= errors.price.msg %></div>
              <% } %>
            </div>

            <div class="col-12 col-md-6">
              <label for="discount" class="form-label">Descuento:</label>
              <input
                type="text"
                id="discount"
                name="discount"
                placeholder="Ej: 15"
                class="form-input"
              />
              <% if (locals.errors && errors.discount) { %>
              <div class="text-danger"><%= errors.discount.msg %></div>
              <% } %>
            </div>

            <div class="col-12 col-md-6">
              <label for="quantity" class="form-label">Cantidad:</label>
              <input
                type="text"
                id="quantity"
                name="quantity"
                placeholder="Ej: 2"
                class="form-input"
              />
            </div>

            <div class="col-12 col-md-6">
              <label for="colors" class="form-label"
                >Colores disponibles:</label
              >
              <select name="colors" id="colors" class="form-input">
                <option hidden disabled selected value>
                  -- Selecciona una opción --
                </option>
                <% for( let i = 0; i < colores.length; i++ ) { %>

                <option value="<%=colores[i].idcolor  %>">
                  <%= colores[i].color %>
                </option>
                <% } %>
              </select>
            </div>

            <div class="col-12 col-md-6">
              <label for="brands" class="form-label">Marcas:</label>
              <select name="brands" id="brands" class="form-input">
                <option hidden disabled selected value>
                  -- Selecciona una opción --
                </option>
                <% for( let i = 0; i < marcas.length; i++ ) { %>

                <option value="<%=marcas[i].idbrand  %> ">
                  <%= marcas[i].brand %>
                </option>
                <% } %>
              </select>
            </div>

            <div class="col-12 col-md-6">
              <label for="category" class="form-label">Categoría:</label>
              <select name="category" id="category" class="form-input">
                <option hidden disabled selected value>
                  -- Selecciona una opción --
                </option>
                <% for( let i = 0; i < categorias.length; i++ ) { %>
                <option value="<%=categorias[i].idcategory  %> ">
                  <%=categorias[i].category_name %>
                </option>

                <% } %>
              </select>
            </div>

            <div class="col-12">
              <label for="description" class="form-label">Descripción:</label>
              <textarea
                name="description"
                id="description"
                class="form-input"
              ></textarea>
              <% if (locals.errors && errors.description) { %>
              <div class="text-danger"><%= errors.description.msg %></div>
              <% } %>
            </div>

            <div class="col-12">
              <label for="productImg" class="form-label">Imagen:</label>
              <input
                type="file"
                id="productImg"
                name="productImg"
                class="form-input"
              />
              <% if (locals.errors && errors.productImg) { %>
              <div class="text-danger"><%= errors.productImg.msg %></div>
              <% } %>
            </div>

            <div class="col-12">
              <button type="submit" class="buy-now-button" value="upload">
                Guardar producto
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>

    <section class="login"><%- include('../partials/footer.ejs') %></section>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
      integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
      integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz"
      crossorigin="anonymous"
    ></script>
    <script src="/js/product.js"></script>
  </body>
</html>
